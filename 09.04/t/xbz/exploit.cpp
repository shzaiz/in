#include<bits/stdc++.h>
#define fint register int
#define h 5001
#define p 4759846
#define int long long
using namespace std;
int n;
double ans=-p;
double k,c,w;
int tp[p],a[p],b[p];
inline int read();
inline void dfs(int x,double cost,double zuan);
signed main()
{
	freopen("exploit.in","r",stdin);
	freopen("exploit.out","w",stdout);
	n=read(),k=read(),c=read(),w=read(); 
	for(fint i=1;i<=n;i++)
	tp[i]=read(),tp[i]==1?a[i]=read():b[i]=read();
	dfs(0,0,w);
	printf("%.2lf",ans);
	return 0;
} 

inline int read()
{
	int x=0,f=1;
	char ch=getchar();
	while(ch<'0'||ch>'9')
	{
		if(ch=='-')
		f=-1;
		ch=getchar();
	}
	while(ch>='0'&&ch<='9')
	{
		x=(x<<1)+(x<<3)+(ch^48);
		ch=getchar();
	}
	return x*f;
}

inline void dfs(int x,double cost,double zuan)
{
	if(x==n)
	{
		ans=max(cost,ans); 
		return ;
	}
	if(tp[x+1]==1)
	{
		dfs(x+1,cost+(double)a[x+1]*zuan,zuan*(1-0.01*k));//开采 
		dfs(x+1,cost,zuan);//不开采 
	}
	if(tp[x+1]==2)
	{
		dfs(x+1,cost-(double)b[x+1]*zuan,zuan*(1+0.01*c));//维修
		dfs(x+1,cost,zuan);//不维修 
	}
	return ;
}
/*
5 50 50 10
1 10
1 20
2 10
2 20
1 30
*/
